<div class="popup-backdrop">
  <div class="popup-content">
    <h2>Create Credit</h2>

    <form [formGroup]="creditTypeForm" (ngSubmit)="submit()">

      <label>
        Conditions:
        <select formControlName="conditions">
          <option value="">-- Select Condition --</option>
          <option value="monthly">Monthly</option>
          <option value="yearly">Yearly</option>
          <option value="weekly">Weekly</option>
        </select>
      </label>
      <div *ngIf="creditTypeForm.get('conditions')?.invalid && creditTypeForm.get('conditions')?.touched">
        Please select a condition
      </div>

      <label>
        Interest Rate (%):
        <input type="number" formControlName="interestRate" step="0.01" min="0" />
      </label>
      <div *ngIf="creditTypeForm.get('interestRate')?.invalid && creditTypeForm.get('interestRate')?.touched">
        Interest rate is required
      </div>

      <label>
        Term Duration:
        <input type="number" formControlName="termNumber" placeholder="e.g. 6, 12, 24" min="1" />
      </label>
      <div *ngIf="creditTypeForm.get('termNumber')?.invalid && creditTypeForm.get('termNumber')?.touched">
        <div *ngIf="creditTypeForm.get('termNumber')?.errors?.['required']">Term duration is required</div>
        <div *ngIf="creditTypeForm.get('termNumber')?.errors?.['min']">Term duration must be at least 1</div>
      </div>

      <label>
        Term Unit:
        <select formControlName="termUnit">
          <option value="">-- Select Unit --</option>
          <option value="weeks">Weeks</option>
          <option value="months">Months</option>
          <option value="years">Years</option>
        </select>
      </label>
      <div *ngIf="creditTypeForm.get('termUnit')?.invalid && creditTypeForm.get('termUnit')?.touched">
        Please select a term unit
      </div>


      <label>
        Starting Amount:
        <input type="number" formControlName="startingAmount" step="0.01" min="0" />
      </label>
      <div *ngIf="creditTypeForm.get('startingAmount')?.invalid && creditTypeForm.get('startingAmount')?.touched">
        <div *ngIf="creditTypeForm.get('startingAmount')?.errors?.['required']">Starting amount is required</div>
        <div *ngIf="creditTypeForm.get('startingAmount')?.errors?.['min']">Starting amount must be greater than or equal to 0</div>
      </div>

      <div class="buttons">
        <button type="submit" [disabled]="creditTypeForm.invalid">Submit</button>
        <button type="button" (click)="close.emit()">Cancel</button>
      </div>

    </form>
  </div>
</div>